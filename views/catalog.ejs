<!DOCTYPE html>
<html lang="en-IE">
<%- include('../views/partials/head'); %>
<header>
    <%- include('../views/partials/header'); %>
</header>
<body class="text-center">
<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <main role="main" class="inner cover">
        <section class="container">
            <section class="row">
                <h1>Market Catalog</h1>
            </section>
            <hr>
            <article class="table-responsive-sm">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>Pick a product from the list</th>
                    </tr>
                    </thead>

                    <tbody>


                    <tr>
                        <th>Fresh Fruit</th> <!--This over here is really ineffective for large dbs -->
                        <% product.forEach((product) => { %>
                        <%if(product.category === "fresh fruit") { %>
                    </tr>
                        <tr>
                            <td>
                                <form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                    <label for="quantity">Quantity: </label>
                                    <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                    <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                    <button type="submit">Add</button>
                                </form>
                            </td>
                        </tr>
                        <% }%>
                        <% }); %>



                    <tr>
                        <th>Vegetables</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "vegetable") { %>
                    </tr>
                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>


                    <tr>
                        <th>Meat</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "meat") { %>
                    </tr>

                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>

                    <tr>
                        <th>Seafood</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "seafood") { %>
                    </tr>


                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>

                    <tr>
                        <th>Poultry</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "poultry") { %>
                    </tr>

                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>

                    <tr>
                        <th>Dessert</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "dessert") { %>
                    </tr>
                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>


                    <tr>
                        <th>Pastry</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "pastry") { %>
                    </tr>
                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>

                    <tr>
                        <th>Pizza</th>
                        <% product.forEach((product) => { %>
                        <%if(product.category === "pizza") { %>
                    </tr>
                    <tr>
                        <td><form action="/catalog/<%= mealPlanID%>/<%= product.productID%>" method="POST">
                                <a href="/productDetails/<%= product.productID%>"><%= product.name%> </a>

                                <label for="quantity">Quantity: </label>
                                <input type="text" id="quantity" name="quantity" maxlength="2" size="2">
                                <input type="hidden" id="calories" name="calories" value="<%= product.calories%>">

                                <button type="submit">Add</button>
                            </form>
                        </td>
                    </tr>
                    <% }%>
                    <% }); %>
                    </tbody>
                </table>
            </article>
        </section>
    </main>
    <%- include('../views/partials/footer'); %>
</div>
</body>
</html>
